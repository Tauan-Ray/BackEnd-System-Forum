generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserRole {
  USER
  ADMIN
}

model User {
  ID_USER  String     @id @default(uuid())
  USERNAME String     @unique
  NAME     String
  EMAIL    String     @unique
  PASSWORD String
  ROLE     UserRole   @default(USER)
  DT_CR    DateTime   @default(now())
  DT_UP    DateTime   @updatedAt
  DEL_AT   DateTime?
  Question Question[]

  @@map("USERS")
}

model Category {
  ID_CT    String     @id @default(uuid())
  CATEGORY String     @db.VarChar(45)
  DT_CR    DateTime   @default(now())
  DT_UP    DateTime   @updatedAt
  DEL_AT   DateTime?
  Question Question[]

  @@map("CATEGORIES")
}

model Question {
  ID_QT       String    @id @default(uuid())
  TITLE       String    @db.VarChar(60)
  DESCRIPTION String    @db.VarChar(255)
  DT_CR       DateTime  @default(now())
  DT_UP       DateTime  @updatedAt
  DEL_AT      DateTime?

  User     User     @relation(fields: [ID_USER], references: [ID_USER])
  Category Category @relation(fields: [ID_CT], references: [ID_CT])

  ID_USER String
  ID_CT   String
}
